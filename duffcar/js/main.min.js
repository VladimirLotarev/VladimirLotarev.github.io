document.addEventListener("DOMContentLoaded",()=>{function e(){return document.documentElement.clientWidth}function t(){const t=["#","#","#","#","#","#","#","#","#"],i=["Каталог","О продукции","Отзывы","Доставка и оплата","Статус заказа","Возврат","Акции","Распродажа","Контакты"],s=document.createElement("nav"),l=document.createElement("ul"),a=document.querySelector("header"),d=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");function n(e){const s=document.createElement("li");s.classList.add("menu__item"),s.insertAdjacentHTML("beforeend",`<a href="${t[e]}" class="menu__link">${i[e]}</a>`),l.append(s)}d.classList.add("container"),r.classList.add("header-menu-area"),o.classList.add("header__before"),s.classList.add("menu"),s.setAttribute("id","menu"),l.classList.add("menu__list");for(let e=0;e<t.length;e++)n(e);s.append(l);const u=s.querySelectorAll(".menu__item"),v=document.querySelectorAll(".sub-menu__item");if(e()<1140){if(!document.body.firstElementChild.classList.contains("menu")){for(let e of u)"Каталог"===e.textContent&&(e.hidden=!0);document.body.prepend(s),a.firstElementChild.classList.contains("menu")&&a.firstElementChild.remove()}for(let e of v)document.querySelector(".menu__list").prepend(e);s.classList.contains("menu__mobile")||s.classList.add("menu__mobile"),document.querySelector(".header__before")&&document.querySelector(".header__before").remove(),document.querySelector("#menu-toggle")||(c.setAttribute("id","menu-toggle"),c.classList.add("menu__toggle"),document.querySelector(".header__wrap").append(c),c.addEventListener("click",()=>{document.querySelector("#menu").classList.toggle("show"),document.body.classList.toggle("scroll-lock"),c.classList.contains("menu__close")?(c.classList.remove("menu__close"),document.querySelector("#header-search").hidden=!1,document.querySelector("#header-wrap").prepend(document.querySelector("#header-logo")),document.querySelector("#header-wrap").append(document.querySelector("#header-buttons")),document.querySelector("#header-wrap").append(c),document.querySelector("main").hidden=!1):(c.classList.add("menu__close"),document.querySelector("#header-search").hidden=!0,document.querySelector("main").hidden=!0,document.querySelector("#menu").append(c),document.querySelector("#menu").append(document.querySelector("#header-buttons")),document.querySelector("#menu").prepend(document.querySelector("#header-logo")))})),document.querySelector("header .phone")&&document.querySelector("header .phone").remove()}else if(document.querySelector(".menu__toggle")&&document.querySelector(".menu__toggle").remove(),s.classList.contains("menu__mobile")||s.classList.remove("menu__mobile"),!a.querySelector(".menu")){r.append(s),a.querySelector(".phone")||r.insertAdjacentHTML("beforeend",'<a href="tel:88004444208" class="phone">8 800 444 42 08</a>'),d.prepend(r),o.append(d),a.prepend(o);for(let e of v)document.querySelector(".sub-menu__list").prepend(e)}}function i(){const t=document.querySelector("header");t&&(e()<1140?!t.classList.contains("stick")&&t.classList.add("stick"):Math.round(window.pageYOffset)>=39?!t.classList.contains("stick")&&t.classList.add("stick"):t.classList.remove("stick"))}function s(){let e=document.querySelectorAll(".youtube__item"),t=document.querySelectorAll(".youtube__wrap-img");for(let i of e)if(i&&t){let e=i.clientWidth;for(let s=0;s<t.length;s++){t[s].style.maxHeight=`${e/1.8}px`,i.closest(".youtube__item.show")?(i.querySelector("iframe").style.maxHeight=`${e/1.8}px`,i.style.minHeight=i.querySelector(".youtube__mask").clientHeight+"px"):i.querySelector("iframe")&&(i.querySelector("iframe").style.maxHeight="100%")}}}function l(){if(document.querySelector(".youtube__list")){let e=document.querySelectorAll(".youtube__item");if(e)for(let t=0;t<e.length;t++){let i=e[t],l=i.id;if(l){i.insertAdjacentHTML("beforeend",'<iframe width="100%" height="400" tabindex='+t+' src="https://www.youtube.com/embed/'+l+'" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>');let e=i.querySelector("iframe");addEventListener("blur",()=>{document.activeElement===e&&(i.classList.toggle("show"),s())}),i.addEventListener("click",()=>{if(document.querySelector(".show .youtube__mask")){let e=i.querySelector("iframe");i.classList.toggle("show"),e.setAttribute("src",`https://www.youtube.com/embed/${l}`)}s()})}}}}function a(){const e=document.querySelectorAll('input[type="tel"]');if(e)for(let t of e){let e="+7 ( _ _ _ ) _ _ _ - _ _ - _ _",i=e;t.value=e,t.addEventListener("input",()=>{let s=t.value,l=/\d(?=\D*$)/g;l.lastIndex=5;let a=l.exec(s);if(a){t.value=i;let e=t.value.match(/_/);t.value=t.value.replace(e,a),i=t.value}else t.value=e})}}e(),t(),i(),VlSlider.setParams("slider",{speed:10,controls:!1,indicators:!1,interval:3,autoplay:!1,gallery:!1,pathToImage:"images/",imageNames:["avto-kovriki","kovriki-evo","kovrik","kovriki-dlya-avto"],content:['<div class="slide__title slide-title slide-academician"><div class="slide-academician__price"><span class="slide-academician__old-price">2 790</span>2 450 рублей</div><div class="slide-academician__ttl">удерживаем <span>старую цену</span></div><div class="slide-academician__subttl">Акция до 5 октября. Успей купить по старой цену.</div>','<div class="slide__title slide-title">Автомобильные накидки из итальянской алькантары</div>','<div class="slide__title slide-title">Гарантия качества<br> В течение 30 дней вернем<br> деньги без разбирательств</div>','<div class="slide__title slide-title">Максимальное<br> покрытие пола<br> Оригинальный<br> крепеж</div>'],links:["",'<a href="nakidki-na-sidenia/" class="slide__button button">Выбрать</a>','<a href="otzivi/" class="slide__button button">Посмотреть отзывы</a>','<a href="katalog-kovrikov/" class="slide__button button">Выбрать коврики на свой авто</a>'],alt:["evo коврики","evo коврики","evo коврики","evo коврики"]}),VlSlider.setParams("slider-company",{speed:10,controls:!0,indicators:!0,interval:3,autoplay:!1,gallery:!1,pathToImage:"images/about-company/",imageNames:["evo-kovriki-proizvodstvo","evo-kovriki-proizvodstvo-duffcar","evo-kovriki-vozvrat","evo-kovriki-kachestvo","evo-kovriki-zamer","evo-kovriki"],content:['<div class="slide-company"><img class="slide-company__img" src="images/about-company/01.svg" alt="evo коврики"><div class="slide-company__title">Собственное производство</div><div class="slide-company__txt">Высокие производственные мощности позволили нам занять лидирующие позиции на рынке автоаксессуаров в России и СНГ</div></div>','<div class="slide-company"><img class="slide-company__img" src="images/about-company/02.svg" alt="evo коврики"><div class="slide-company__title">Профессиональная команда</div><div class="slide-company__txt">В команде DuffCar только настоящие специалисты с опытом работы от 5 лет</div></div>','<div class="slide-company"><img class="slide-company__img" src="images/about-company/03.svg" alt="evo коврики"><div class="slide-company__title">30 дней на возврат</div><div class="slide-company__txt">В случае, если товар Вам не (совсем) подходит, мы вернём деньги без каких-либо проблем и долгих разбирательств</div></div>','<div class="slide-company"><img class="slide-company__img" src="images/about-company/04.svg" alt="evo коврики"><div class="slide-company__title">Контроль качества</div><div class="slide-company__txt">Мы дорожим временем наших клиентов и понимаем насколько важно отправлять только качественную продукцию. Контроль на каждом из 5 этапов производства позволяет гарантировать нам качество своей продукции</div></div>','<div class="slide-company"><img class="slide-company__img" src="images/about-company/05.svg" alt="evo коврики"><div class="slide-company__title">Индивидуальный замер лекал под каждую модель авто</div><div class="slide-company__txt">Лекальная база насчитывает более 2500 моделей, цифровой замер обеспечивает идеальную укладку ковров в салоне. </div></div>','<div class="slide-company"><img class="slide-company__img" src="images/about-company/06.svg" alt="evo коврики"><div class="slide-company__title">Качественные материалы российского производства, полностью исключён китайский материал</div><div class="slide-company__txt">Большие складские запасы обеспечивают постоянное наличие всей палитры. Плотность полимера 60 шор (в отличии от бюджетных аналогов) увеличивают срок эксплуатации продукции в несколько раз</div></div>'],alt:["evo коврики","evo коврики","evo коврики","evo коврики"]}),VlSlider.setParams("slider-reviews",{speed:10,controls:!0,indicators:!0,interval:3,autoplay:!1,gallery:!0,pathToImage:"images/",imageNames:[["ford1","ford2","ford3","ford4"],["evo-kovrik"],["kovrikr-evo","kovrik-evo"],["avto-kovrik","kovriki-evo","avto-kovriki-evo"]],content:['<div class="slider-reviews__txt">Заĸазал ĸовриĸи на ford c-max 1 рестайлинг. 19-го числа, сегодня уже<br/>пришли ĸовры. Бомба, сели везде чётĸо, есть плюс - при отсутствии<br/>заводсĸих ĸреплений, они пришивают липучĸу и, соответственно, ĸовры не<br/>ĸатаются. Всё ĸлассно, всем советую</div><dvi class="slider-reviews__autor"><div class="slider-reviews__logo"><picture><source srcset="" type="image/webp" /><img src="images/slider/avatar1.jpg" alt="image" type="image/jpg" /></picture></div><div><div class="slider-reviews__name">Эдуард Заименĸо</div><div class="slider-reviews__date">12.08.2020</div></div></dvi>','<div class="slider-reviews__txt">Хочу выразить огромную благодарность за шиĸарные ĸовриĸи! Сели ĸаĸ родные, липучĸи держат- не оторвешь!<br/>Быстрая доставĸа, вчера отправили - сегодня уже получила. Отдельная благодарность Давиду за оперативность, терпение и выдержĸу в ответах на многочисленные вопросы!</div><dvi class="slider-reviews__autor"><div class="slider-reviews__logo"><picture><source srcset="" type="image/webp" /><img src="images/slider/avatar2.jpg" alt="image" type="image/jpg" /></picture></div><div><div class="slider-reviews__name">Галина Гридина</div><div class="slider-reviews__date">11.08.2020</div></div></dvi>','<div class="slider-reviews__txt">Пришли ĸовриĸи на toyota avensis 2. Подошли идеально!</div><dvi class="slider-reviews__autor"><div class="slider-reviews__logo"><picture><source srcset="" type="image/webp" /><img src="images/slider/avatar3.jpg" alt="image" type="image/jpg" /></picture></div><div><div class="slider-reviews__name">Андрей Гришин</div><div class="slider-reviews__date">11.08.2020</div></div></dvi>','<div class="slider-reviews__txt">Заĸазал себе ĸовриĸи на ниву. Отправили транспортной ĸомпанией. Я<br/>доволен! Ковриĸи подошли ĸаĸ нужно, на вид ĸачественные, плотные!!!<br/>Супер!!!</div><dvi class="slider-reviews__autor"><div class="slider-reviews__logo"><picture><source srcset="" type="image/webp" /><img src="images/slider/avatar4.jpg" alt="image" type="image/jpg" /></picture></div><div><div class="slider-reviews__name">Сергей Ярошевич</div><div class="slider-reviews__date">11.08.2020</div></div></dvi>'],links:["","","",""],alt:["evo коврики","evo коврики","evo коврики","evo коврики"]}),function(){const e=document.querySelectorAll("form");if(e)for(let s of e){let e=s.querySelectorAll("input[type='text'], input[type='tel']"),l=s.querySelector("button"),d=!1,o=!1,r=!1,c=/^((?!_).)*$/;for(let s of e){function t(){s.classList.contains("feedback__name")&&(""!=s.value?/\d/.test(s.value)?(o=!1,s.classList.add("invalid"),s.value="",s.setAttribute("placeholder","Имя не должно содержать цифры")):s.value.length<3?(o=!1,s.classList.add("invalid"),s.value="",s.setAttribute("placeholder","Имя не может содержать меньше 3 букв")):(o=!0,s.classList.remove("invalid"),s.setAttribute("placeholder","Имя")):(o=!1,s.classList.add("invalid"),s.setAttribute("placeholder","Вы не указали имя"))),s.classList.contains("feedback__phone")&&(""!=s.value?!0===c.test(s.value)?(r=!0,s.classList.remove("invalid"),s.setAttribute("placeholder","Телефона")):(console.log(s.value),r=!1,s.classList.add("invalid"),s.value="",s.setAttribute("placeholder","Вы ввели не корректный номер"),setTimeout(()=>a(),1e3)):(r=!1,s.classList.add("invalid"),s.setAttribute("placeholder","Вы не указали номер телефона")))}function i(){return d=!(!o||!r)}s.addEventListener("input",()=>{s.classList.contains("feedback__name")?""!=s.value?/\d/.test(s.value)?(o=!1,s.classList.add("invalid"),s.setAttribute("placeholder","Имя не должно содержать цифры")):s.value.length<3?(o=!1,s.classList.add("invalid"),s.setAttribute("placeholder","Имя не может содержать меньше 3 букв")):(o=!0,s.classList.remove("invalid"),s.setAttribute("placeholder","Имя")):(o=!1,s.classList.add("invalid"),s.setAttribute("placeholder","Вы не указали имя")):s.classList.contains("feedback__phone")&&(""!=s.value?!0===c.test(s.value)?(r=!0,s.classList.remove("invalid"),s.setAttribute("placeholder","Телефона")):(r=!1,s.classList.add("invalid"),s.setAttribute("placeholder","Вы ввели не корректный номер")):(r=!1,s.classList.add("invalid"),s.setAttribute("placeholder","Вы не указали номер телефона")),i(),l&&d?l.removeAttribute("disabled"):l.setAttribute("disabled",""))}),s.addEventListener("blur",()=>{t(),i(),l&&d?l.removeAttribute("disabled"):l.setAttribute("disabled","")})}}}(),a(),window.addEventListener("scroll",()=>{i(),function(){let e=document.querySelectorAll(".lazy-box"),t=document.documentElement.clientHeight;if(e)for(let i of e)if(""==i.innerHTML&&(i.setAttribute("style","opacity: 0"),i.getBoundingClientRect().top<=t)){let e=i.getAttribute("id");fetch(`https://vladimirlotarev.github.io/duffcar/templates/${e}.php`).then(e=>e.text()).then(e=>{i.innerHTML=e,i.setAttribute("style","opacity: 1; transition: All .2s ease-out;"),"youtube"===i.id&&(s(),l())})}}(),function(){const e=document.querySelector("#scroll-top"),t=document.querySelector("header");if(Math.round(window.pageYOffset+100)>=document.body.clientHeight-document.documentElement.clientHeight){if(!e){const e=document.createElement("div");e.classList.add("scroll-top"),e.setAttribute("id","scroll-top"),document.body.append(e)}document.querySelector("#scroll-top").onclick=function(){t.scrollIntoView({behavior:"smooth",block:"start"})}}else e&&e.remove()}()}),window.addEventListener("resize",()=>{e(),t(),s()})});